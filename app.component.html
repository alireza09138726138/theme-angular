<div class="container py-5">

  <!-- Add group.task -->
  <form (submit)="addGroup()">
    <input type="text" class="form-control" placeholder="Add a group" [(ngModel)]="groupToAdd" name="groupToAdd"
      autocomplete="off">
  </form>

  <!-- Groups -->
  <div class="card my-3 " *ngFor="let group of groups">
    <!-- Group name @todo Add delete button at the right side of head -->
    <div class="card-header">{{ group.name }}</div>
    <!-- Group body -->
    <div class="card-body">
      <!-- Group add input -->
      <form (ngSubmit)="addTask(group)">
        <input type="text" placeholder="Add task" class="form-control" [(ngModel)]="taskToAdd" name="taskToAdd">
        <input type="date" class="form-control" [(ngModel)]="taskDateToAdd" name="taskDateToAdd">
      </form>
      <!-- Group task list -->
      <div class="list-group-item task" *ngFor="let task of group.tasks"
        [ngClass]="{done: task.done, 'bg-light': task.pin}">
        <!-- Task done -->
        <div class="form-group form-check d-inline">
          <input type="checkbox" class="form-check-input" [(ngModel)]="task.done" (ngModelChange)="saveTasks()">
        </div>
        <!-- Task name -->
        <span>{{ task.name }}</span>
        <!-- Task date -->
        <small *ngIf="task.date"><br>{{ task.date | date:'MMM d, y' }}</small>
        <!-- Pin -->
        <button class="btn btn-sm btn-light float-right py-0" (click)="pinTask(task)">P</button>
        <!-- Delete -->
        <button class="btn btn-sm btn-light float-right py-0" (click)="deleteTask(group, task)">&times;</button>
        <button class="btn btn-sm btn-light float-right py-0" (click)="archiveTask(group, task)">Archive</button>

      </div>
      <!-- @todo Add no tasks text -->
      <p *ngIf="!groups.length" class="mt-3">You don't have any groups.</p>
    </div>

    <!-- If no tasks @todo Change this for no groups -->
    <p *ngIf="!groups.length" class="mt-3">You don't have any groups.</p>
  </div>
</div>